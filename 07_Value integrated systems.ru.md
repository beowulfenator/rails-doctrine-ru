Цените интегрированные системы

Rails может использоваться во многих контекстах, но первым делом его конек — создание интегрированных систем: Величественные монолиты! Целостная система, нацеленная на решение всей задачи совокупно. Это значит, что Rails заботится обо всем: от front-end интерфейса JavaScript, необходимого для “живого обновления” страницы, до того как база данных мигрирует от одной версии к другой, находясь в продакшн-среде.

Это очень широкая область задач и знаний, как мы обсуждали ранее, но она не настолько широка, чтобы ее не усвоил один единственный человек. Rails специально стремится обеспечить людей с широким кругозором инструментами для создания таких законченных систем. Его цель состоит не в разделении специалистов на небольшие ниши, а затем требовать от них объединения в команды для создания чего-нибудь значимого.

Акцент делается именно на расширении возможностей индивидуального разработчика, посредством интегрированной системы. Именно в интегрированной системе мы можем убрать много ненужных абстракций, уменьшить дублирование между слоями (например, шаблоны как на сервере, так и на клиенте) и, что самое главное, избежать разделения нашей системы.

Большая часть сложностей в разработке систем связана с введением новых границ между элементами, которые ограничивают способы совершения вызовов между A и B. Вызов методов между объектами намного проще, нежели удаленные вызовы процедур между микросервисами. Существует некий целый новый мир вреда от кодов ошибок, проблем с задержкой и ожиданием, планирования обновлений зависимостей, который ждет рискнувших попасть в логово разделенных систем.

Увы, иногда без распределенной архитектуры не обойтись. Если вашему веб-приложению нужен API-интерфейс, к которому пользователи будут обращаться по HTTP, то ничего не поделаешь — придется решать почти все упомянутые проблемы. Остается порадоваться, что работа со входящими запросами куда проще, чем с исходящими, ведь если ваш интерфейс какое-то время не будет работать, то проблемы будут не у вас, а у потребителя этого интерфейса. По крайней мере в таком случае неудобства, которые вам как разработчику придется претерпеть, не столь велики.

Хуже того, когда системы преждевременно дезинтегрируются и разбиваются на сервисы(службы) или, что еще хуже, на микросервисы. Эти танцы с бубном часто начинаются с неправильного представления о том, что если вы хотите “Современное Интернет-Приложение”, вам просто придется создавать системы много раз: один раз на стороне сервера, один раз на стороне клиента в виде JavaScript MVC, один раз для каждой нативной платформы мобильных устройств и так далее. Это не закон природы, не обязательно должно быть так.

Можно запросто использовать одни и те же элементы системы для разных приложений и способов доступа. Завести единый набор контроллеров и представлений и для десктопных браузеров, и для нативных мобильных приложений. Сосредоточить как можно больше функций в грандиозной монолитной интегрированной системе.

При этом практически не страдают ни скорость, ни удобство использования, ни другие характеристики, ради оптимизации которых разработчики бросаются проектировать распределенное приложение.

Это самое важное, к чему мы стремимся: все возможности индивидуально настроенных и распределенных приложений в рамках простой в использовании и понимании единой интегрированной системы.